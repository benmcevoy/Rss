@using Rss.Server.Models
@model Rss.Server.ViewModels.FolderItemsViewModel

@{
    ViewBag.Title = "Folder";
}

<h1><a class="ajax" 
       data-command="folder"
       data-commandargument="@Model.FolderId">@Model.FolderName</a>

    <input type="button" value="Refresh" 
           class="ajax"
           data-command="refreshFolder"
           data-commandargument="@Model.FolderId"/>

    <input type="button" value="Mark all as read" 
           class="ajax"
               data-command="readFolder"
               data-commandargument="@Model.FolderId"/>
</h1>

<div id="body">
    <section>
        <ul id="stream" class="nobullet">
            @{
                foreach (var item in Model.Items)
                {
                <li class="item">
                    <div>
                        <a class="ajax" 
                            data-command="feed"
                            data-commandargument="@item.FeedId">@item.FeedName</a>
                    </div>
                    <div>
                        <a class="ajax item" 
                           data-command="readItem"
                           data-commandargument="{ feedId: '@item.FeedId', itemId: '@item.Id' }">
                            <strong>@item.Name</strong> (@item.PublishedDateTime)
                        </a>
                    </div>
                    <p>
                        @item.Snippet
                    </p>
                    <hr />
                </li>
                }
            }
        </ul>
    </section>
</div>
