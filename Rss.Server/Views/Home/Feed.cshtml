@model Rss.Server.Models.Feed

@{
    ViewBag.Title = "Feed";
}

<h2><a href="@Model.HtmlUrl" target="_blank">@Model.Name</a> @if (Model.FolderId.HasValue)
                                                             {
    @:(in <a class="ajax" rel="#panel" href="/home/folder/@Model.FolderId">@Model.FolderName</a>)
                }</h2>
<sub><a href="@Model.HtmlUrl" target="_blank">@Model.HtmlUrl</a></sub>

<input type="button" value="Unsubscribe" 
               class="ajax"
               data-postaction="/api/feed/unsubscribe"
               data-id="@Model.Id"
               data-getaction="/home/folder/@Model.FolderId"
               data-getpanel='#panel' />

<input type="button" value="Refresh" 
       class="ajax"
       data-postaction="/api/feed/refresh"
       data-id="@Model.Id"
       data-getaction="/home/feed/@Model.Id"
               data-getpanel='#panel' />

<input type="button" value="Mark all as read" 
               class="ajax"
               data-postaction="/api/feed/mark"
               data-id="@Model.Id"
               data-getaction="/home/feed/@Model.Id"
               data-getpanel='#panel' />


@{
    foreach (var item in Model.Items)
    {
    <div class="item">
        <h3><a class="ajax" rel="#panel" href="/home/item/@item.Id">@item.Name</a></h3>
        <sub>@item.PublishedDateTime</sub>
        <p>@item.Snippet</p>
        <hr />
    </div>
    }
}
